import{f,b as L,c as p,d as E}from"./update-C0ONWQeW.js";import{g as c}from"./listings-Cx42XGGI.js";import{s as l,h as d}from"./loadingSpinner-D-kshPRo.js";let n=1;const a=24;let s=0;const r=16;function g(){const t=document.getElementById("prevPage"),e=document.getElementById("nextPage"),i=document.getElementById("currentPage"),o=Math.min(Math.ceil(s/a),r);i.textContent=`Page ${n} / ${o}`,t.disabled=n===1,e.disabled=n===o}async function m(){l();try{const t=document.querySelector(".listings-container");t.classList.add("opacity-0","transition-opacity","duration-300"),setTimeout(async()=>{t.innerHTML="";const e=await f(a,n),i=Array.isArray(e.data)?e.data:[];if(s=e.meta.totalCount,i.length===0&&n>1){n--,m();return}i.forEach(o=>{c(o)}),g(),t.classList.remove("opacity-0"),t.classList.add("opacity-100")},300)}catch(t){console.error("Error fetching and rendering listings:",t)}finally{d()}}async function y(){l();try{const t=document.querySelector(".listings-container");t.classList.add("opacity-0","transition-opacity","duration-300"),setTimeout(async()=>{t.innerHTML="";const e=await L(a,n),i=Array.isArray(e.data)?e.data:[];if(s=e.meta.totalCount,i.length===0&&n>1){n--,y();return}i.forEach(o=>{c(o)}),g(),t.classList.remove("opacity-0"),t.classList.add("opacity-100")},300)}catch(t){console.error("Error fetching and rendering listings:",t)}finally{d()}}async function u(){l();try{const t=document.querySelector(".listings-container");t.classList.add("opacity-0","transition-opacity","duration-300"),setTimeout(async()=>{t.innerHTML="";const e=await p(a,n),i=Array.isArray(e.data)?e.data:[];if(s=e.meta.totalCount,i.length===0&&n>1){n--,u();return}i.forEach(o=>{c(o)}),g(),t.classList.remove("opacity-0"),t.classList.add("opacity-100")},300)}catch(t){console.error("Error fetching and rendering listings:",t)}finally{d()}}async function h(){l();try{const t=document.querySelector(".listings-container");t.classList.add("opacity-0","transition-opacity","duration-300"),setTimeout(async()=>{t.innerHTML="";const e=await E(a,n),i=Array.isArray(e.data)?e.data:[];if(s=e.meta.totalCount,i.length===0&&n>1){n--,h();return}i.forEach(o=>{c(o)}),g(),t.classList.remove("opacity-0"),t.classList.add("opacity-100")},300)}catch(t){console.error("Error fetching and rendering listings:",t)}finally{d()}}function b(){document.getElementById("prevPage").addEventListener("click",()=>{n>1&&(n--,m(),document.querySelector(".listings-container").scrollIntoView({behavior:"smooth",block:"start"}))}),document.getElementById("nextPage").addEventListener("click",()=>{const t=Math.min(Math.ceil(s/a),r);n<t&&(n++,m(),document.querySelector(".listings-container").scrollIntoView({behavior:"smooth",block:"start"}))})}function I(){document.getElementById("prevPage").addEventListener("click",()=>{n>1&&(n--,y(),document.querySelector(".listings-container").scrollIntoView({behavior:"smooth",block:"start"}))}),document.getElementById("nextPage").addEventListener("click",()=>{const t=Math.min(Math.ceil(s/a),r);n<t&&(n++,y(),document.querySelector(".listings-container").scrollIntoView({behavior:"smooth",block:"start"}))})}function k(){document.getElementById("prevPage").addEventListener("click",()=>{n>1&&(n--,u(),document.querySelector(".listings-container").scrollIntoView({behavior:"smooth",block:"start"}))}),document.getElementById("nextPage").addEventListener("click",()=>{const t=Math.min(Math.ceil(s/a),r);n<t&&(n++,u(),document.querySelector(".listings-container").scrollIntoView({behavior:"smooth",block:"start"}))})}function A(){const t=Math.min(Math.ceil(s/a),r);document.getElementById("prevPage").addEventListener("click",()=>{n>1&&(n--,h(),document.querySelector(".listings-container").scrollIntoView({behavior:"smooth",block:"start"}))}),document.getElementById("nextPage").addEventListener("click",()=>{n<t&&(n++,h(),document.querySelector(".listings-container").scrollIntoView({behavior:"smooth",block:"start"}))}),t===1&&(document.getElementById("prevPage").disabled=!0,document.getElementById("nextPage").disabled=!0)}export{I as a,y as b,u as c,k as d,h as e,m as f,A as g,b as i};
