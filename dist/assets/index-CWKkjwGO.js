const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./home-BTTihv6v.js","./update-C0ONWQeW.js","./loadingSpinner-D-kshPRo.js","./listings-Cx42XGGI.js","./alertMessage-Dl9VQ_2y.js","./pagination-BipjXRMn.js","./register-Bc-PyAAl.js","./login-mwaeCGan.js","./profile-BzxfJInZ.js","./authGuard-DgJQJooe.js","./create-BsSjGumR.js","./art-a8E7WzPn.js","./books-BZyrXXmk.js","./jewelry-CPI1dV2b.js","./listing-QWNHErUy.js","./updateListing-Bdcm-vOJ.js"])))=>i.map(i=>d[i]);
(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&l(n)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();const k="modulepreload",S=function(e,t){return new URL(e,t).href},w={},i=function(t,s,l){let o=Promise.resolve();if(s&&s.length>0){const n=document.getElementsByTagName("link"),c=document.querySelector("meta[property=csp-nonce]"),L=c?.nonce||c?.getAttribute("nonce");o=Promise.allSettled(s.map(a=>{if(a=S(a,l),a in w)return;w[a]=!0;const f=a.endsWith(".css"),v=f?'[rel="stylesheet"]':"";if(!!l)for(let h=n.length-1;h>=0;h--){const p=n[h];if(p.href===a&&(!f||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${a}"]${v}`))return;const d=document.createElement("link");if(d.rel=f?"stylesheet":k,f||(d.as="script"),d.crossOrigin="",d.href=a,L&&d.setAttribute("nonce",L),document.head.appendChild(d),f)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${a}`)))})}))}function r(n){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=n,window.dispatchEvent(c),!c.defaultPrevented)throw n}return o.then(n=>{for(const c of n||[])c.status==="rejected"&&r(c.reason);return t().catch(r)})};async function P(e=window.location.pathname){switch(e=e.replace(/^\//,""),e){case"":await i(()=>import("./home-BTTihv6v.js"),__vite__mapDeps([0,1,2,3,4,5]),import.meta.url);break;case"auth/register.html":await i(()=>import("./register-Bc-PyAAl.js"),__vite__mapDeps([6,2,4]),import.meta.url);break;case"auth/login.html":await i(()=>import("./login-mwaeCGan.js"),__vite__mapDeps([7,2,4]),import.meta.url);break;case"profile/profile.html":await i(()=>import("./profile-BzxfJInZ.js"),__vite__mapDeps([8,9,2,4,3,1]),import.meta.url);break;case"listing/create.html":await i(()=>import("./create-BsSjGumR.js"),__vite__mapDeps([10,2,4,9]),import.meta.url);break;case"collections/art.html":await i(()=>import("./art-a8E7WzPn.js"),__vite__mapDeps([11,3,1,2,5]),import.meta.url);break;case"collections/books.html":await i(()=>import("./books-BZyrXXmk.js"),__vite__mapDeps([12,3,1,2,5]),import.meta.url);break;case"collections/jewelry.html":await i(()=>import("./jewelry-CPI1dV2b.js"),__vite__mapDeps([13,3,1,2,5]),import.meta.url);break;case"listing/listing.html":await i(()=>import("./listing-QWNHErUy.js"),__vite__mapDeps([14,3,1,2]),import.meta.url);break;case"listing/update-listing.html":await i(()=>import("./updateListing-Bdcm-vOJ.js"),__vite__mapDeps([15,9,1,2]),import.meta.url);break;default:await i(()=>import("./notFound-BNXFWLKC.js"),[],import.meta.url)}}function M(e,t){localStorage.setItem(e,JSON.stringify(t))}function C(e){try{const t=localStorage.getItem(e);return JSON.parse(t)}catch{return null}}function E(e){localStorage.removeItem(e)}function A(){try{E("token"),E("user"),window.location.href="./"}catch(e){console.error("Failed to sign out:",e)}}function I(){document.querySelectorAll(".logout-button").forEach(e=>{e.addEventListener("click",()=>{confirm("Are you sure you want to log out?")?A():window.location.reload()})})}function b(){const e=document.getElementById("all-listings-link");e&&e.addEventListener("click",t=>{t.preventDefault(),window.location.href="/#scroll-to-listings"})}await P(window.location.pathname);const y=localStorage.getItem("token"),O=document.querySelector("#dropdown-menu-btn"),g=document.querySelector("#dropdown-menu"),u=document.querySelector("#dropdown-profile"),m=document.querySelector("#dropdown-logged-in"),D=document.querySelector("#dropdown-profile-btn");function T(){g?.classList.add("hidden"),u?.classList.add("hidden"),m?.classList.add("hidden")}O?.addEventListener("click",e=>{e.stopPropagation(),g?.classList.toggle("hidden"),_(g)});D?.addEventListener("click",e=>{e.stopPropagation(),y?(m?.classList.toggle("hidden"),_(m)):(u?.classList.toggle("hidden"),_(u))});function _(e){e!==g&&g?.classList.add("hidden"),e!==u&&u?.classList.add("hidden"),e!==m&&m?.classList.add("hidden")}function R(){u?.classList.add("hidden"),m?.classList.add("hidden")}function q(){const e=localStorage.getItem("theme"),t=window.matchMedia("prefers-color-scheme: dark").matches,s=e==="dark"||!e&&t;document.documentElement.classList.toggle("dark",s),document.querySelectorAll(".isLightmode").forEach(l=>{l.classList.toggle("hidden",s)}),document.querySelectorAll(".isDarkmode").forEach(l=>{l.classList.toggle("hidden",!s)})}function V(){const e=document.documentElement.classList.toggle("dark");localStorage.setItem("theme",e?"dark":"light"),document.querySelectorAll(".isLightmode").forEach(t=>{t.classList.toggle("hidden",e)}),document.querySelectorAll(".isDarkmode").forEach(t=>{t.classList.toggle("hidden",!e)})}function N(){document.querySelectorAll(".theme-toggle").forEach(e=>{e.addEventListener("click",V)})}document.addEventListener("click",()=>{T()});R();q();N();I();b();window.addEventListener("load",()=>{if(window.location.hash==="#scroll-to-listings"){const e=document.getElementById("scroll-to-listings");e&&e.scrollIntoView({behavior:"smooth"})}});export{C as l,M as s};
